<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ page.title | default: "QCOMM Auto" }}</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'ui-sans-serif', 'system-ui'],
          },
          colors: {
            primary: '#4f46e5',
            secondary: '#6366f1',
            accent: '#c084fc',
          },
          boxShadow: {
            soft: '0 2px 25px rgba(0, 0, 0, 0.05)',
          },
        },
      },
    };
  </script>

  <!-- Inter Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Alpine.js for dropdowns -->
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <!-- Lottie -->
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

  <!-- Custom Scrollbar & Animations -->
  <style>
    ::selection {
      background-color: #6366f1;
      color: white;
    }

    ::-webkit-scrollbar {
      width: 8px;
    }
    ::-webkit-scrollbar-track {
      background: transparent;
    }
    ::-webkit-scrollbar-thumb {
      background-color: #a5b4fc;
      border-radius: 10px;
    }

    @keyframes gradient-x {
      0%, 100% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
    }

    .animate-gradient-x {
      background-size: 200% 200%;
      animation: gradient-x 5s ease infinite;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800 text-gray-800 dark:text-gray-100 font-sans transition-colors duration-300">

  <!-- Navbar -->
  <header class="sticky top-0 z-50 bg-white/60 dark:bg-gray-900/60 backdrop-blur-md shadow-sm">
    <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
      <a href="/" class="text-2xl font-bold text-primary tracking-tight hover:opacity-80 transition">QCOMM Auto</a>

      <!-- Desktop Nav -->
      <div class="hidden md:flex gap-6 text-sm font-medium">
        <a href="/QAV_Frontend/" class="hover:text-primary transition duration-200">Home</a>
        <a href="/QAV_Frontend/traf/" class="hover:text-primary transition duration-200">Traffic Data</a>
        <a href="/QAV_Frontend/avgspeed/" class="hover:text-primary transition duration-200">Average Road Speeds</a>
        <a href="/QAV_Frontend/bestRoute/" class="hover:text-primary transition duration-200">Find Best Route</a>
      </div>

      <div class="flex items-center gap-4">
        <a href="#" class="hidden md:inline-block px-4 py-2 bg-primary text-white rounded-xl shadow-md hover:bg-secondary transition duration-300 text-sm">Sign In</a>
        <button id="theme-toggle" class="text-xl focus:outline-none">ðŸŒ™</button>

        <!-- Mobile Nav Button + Menu -->
        <div x-data="{ open: false }" class="relative md:hidden">
          <button @click="open = !open" class="text-2xl">â˜°</button>
          <div x-show="open" @click.outside="open = false" class="absolute right-0 top-14 bg-white dark:bg-gray-800 shadow-xl rounded-lg p-4 space-y-2 z-50">
            <a href="/" class="block hover:text-primary">Home</a>
            <a href="/traf/" class="block hover:text-primary">Traffic Data</a>
            <a href="/avgspeed/" class="block hover:text-primary">Average Road Speeds</a>
            <a href="/bestRoute/" class="block hover:text-primary">Find Best Route</a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="max-w-6xl mx-auto px-4 py-16">
    {{ content }}
  </main>

  <!-- Footer -->
  <footer class="mt-20 text-sm text-gray-500 text-center py-6 border-t border-gray-200 dark:border-gray-700">
    Â© 2025 QCOMM Auto. Built by <span class="text-primary font-medium">Manas & Team</span> ðŸš€
  </footer>

  <!-- Dark Mode Toggle -->
  <script>
    window.onload = function() {
      if (localStorage.getItem('theme') === 'dark') {
        document.documentElement.classList.add('dark');
      } 
      
      else {
        document.documentElement.classList.remove('dark');
      }
    }


    const toggle = document.getElementById('theme-toggle');
    toggle.addEventListener('click', () => {
      document.documentElement.classList.toggle('dark');

      if (document.documentElement.classList.contains('dark')) {
        localStorage.setItem('theme', 'dark');
      } 
      
      else {
        localStorage.setItem('theme', 'light');
      }
    });
  </script>
</body>
</html>
